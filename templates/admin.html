{% extends "base.html" %}

{% block title %}Admin | BuNker11{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %}
<section class="admin-section">
    <div class="admin-header">
        <h2>Manage Events</h2>
        <div class="header-actions">
            <a class="logout-button" href="{{ url_for('logout') }}">Logout</a>
        </div>
    </div>
    <div class="admin-actions">
        <a href="{{ url_for('add_event') }}" class="admin-action-btn add-event-btn">
            <img src="{{ url_for('static', filename='images/icons/plus-icon.png') }}" alt="Add"> Add Event
        </a>
        <a href="{{ url_for('update_podcast') }}" class="admin-action-btn update-podcast-btn">
            <img src="{{ url_for('static', filename='images/icons/youtube-icon.png') }}" alt="YouTube"> Update Podcast
        </a>
    </div>

    <!-- Events Grid -->
    <div class="events-grid">
        {% for event in events %}
        <div class="event-card" data-event-id="{{ event.id }}">
            <img src="{{ url_for('static', filename=event.image_url) }}" alt="Event Image" class="event-image">
            <div class="event-details">
                <h3 class="event-title">{{ event.title }}</h3>
                <p class="event-datetime">{{ event.date.strftime('%I:%M %p').lstrip('0') }} - {{ event.formatted_date }}</p>
            </div>
            <div class="event-actions">
                <a href="{{ url_for('edit_event', event_id=event.id) }}" class="icon-button" title="Edit">
                    <img src="{{ url_for('static', filename='images/icons/edit-icon.png') }}" alt="Edit">
                </a>
                <button class="icon-button" title="Delete" onclick="confirmDelete('{{ event.id }}')">
                    <img src="{{ url_for('static', filename='images/icons/delete-icon.png') }}" alt="Delete">
                </button>
            </div>            
        </div>
        {% endfor %}
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='scripts/admin.js') }}"></script>
{% endblock %}
